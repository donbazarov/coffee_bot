# –ó–∞–ª–∏—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª
scp credentials.json root@45.10.244.32:/opt/coffee_bot/

# –ó–∞–ª–∏—Ç—å –≤—Å—é –ø–∞–ø–∫—É
scp -r ./bot root@45.10.244.32:/opt/coffee_bot/

# –ó–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤
scp file1.py file2.py root@45.10.244.32:/opt/coffee_bot/
scp checklist_operations.py checklist_migrations.py root@45.10.244.32:/opt/coffee_bot/bot/database

# –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –ë–î (–±—ç–∫–∞–ø)
scp root@45.10.244.32:/opt/coffee_bot/coffee_quality.db ./backup/

# –°–∫–∞—á–∞—Ç—å –ª–æ–≥–∏
scp root@45.10.244.32:/var/log/coffee-bot.log ./

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@45.10.244.32

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
sudo systemctl status coffee-bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
sudo systemctl start coffee-bot

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
sudo systemctl stop coffee-bot

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–æ—Ç–∞
sudo systemctl restart coffee-bot

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable coffee-bot

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u coffee-bot -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
sudo journalctl -u coffee-bot -n 100

# –õ–æ–≥–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
sudo journalctl -u coffee-bot --since today

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/coffee_bot

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ —Å GitHub
git pull origin main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log --oneline -5

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
source /opt/coffee_bot/venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
pip list

# üîÑ –ü–û–õ–ù–´–ô –†–ê–ë–û–ß–ò–ô –¶–ò–ö–õ –û–ë–ù–û–í–õ–ï–ù–ò–Ø:
#–õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ –∫–æ–¥ –≤ Cursor
# 2. –ó–∞–ª–∏–≤–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r ./bot root@45.10.244.32:/opt/coffee_bot/
scp requirements.txt root@45.10.244.32:/opt/coffee_bot/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
# 3. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@45.10.244.32

# 4. –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
cd /opt/coffee_bot
source venv/bin/activate
pip install -r requirements.txt

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
sudo systemctl restart coffee-bot

# 6. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
sudo journalctl -u coffee-bot -n 20 --no-pager

#–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
# –ë—ç–∫–∞–ø –ë–î
cp /opt/coffee_bot/coffee_quality.db /opt/coffee_bot/coffee_quality.db.backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
cp /opt/coffee_bot/coffee_quality.db.backup /opt/coffee_bot/coffee_quality.db

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞:
# –ü–∞–º—è—Ç—å –∏ CPU
htop
free -h

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
ps aux | grep python

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
sudo pkill -f "python.*coffee"

# –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
cd /opt/coffee_bot
python -m py_compile run.py

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: ssh root@45.10.244.32
# zXXEr25k96
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞: sudo systemctl status coffee-bot
# –†–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞: sudo systemctl restart coffee-bot
# –õ–æ–≥–∏: sudo journalctl -u coffee-bot -f
# Git –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: cd /opt/coffee_bot && git pull origin main
# git config --global --add safe.directory /opt/coffee_bot
# –ó–∞–ª–∏—Ç—å —Ñ–∞–π–ª: scp file.py root@45.10.244.32:/opt/coffee_bot/